<link rel='stylesheet' href='what.css' type='text/css' />
<h3>NAME</span></span></h3>
<tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span&nbsp;class='name'>_errorhandler&nbsp;--&nbsp;<span&nbsp;class='description'>Echos&nbsp;a&nbsp;formatted&nbsp;error&nbsp;message&nbsp;w.&nbsp;filename,&nbsp;line&nbsp;no,&nbsp;errorID&nbsp;and&nbsp;additional&nbsp;help</span></span></tt><BR>
<tt>&nbsp;&nbsp;&nbsp;</span></span></tt><BR>
<h3>SYNOPSIS</span></span></h3>
<tt>&nbsp;&nbsp;&nbsp;&nbsp;<span&nbsp;class='name'>_errorhandler&nbsp;file&nbsp;uniqueStr&nbsp;{formatter}&nbsp;{offset}</span></span></tt><BR>
<tt>&nbsp;&nbsp;&nbsp;</span></span></tt><BR>
<tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span></tt><BR>
<h3>OPTIONS</span></span></h3>
<tt>&nbsp;&nbsp;&nbsp;&nbsp;uniqueStr&nbsp;[in]&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;a&nbsp;unique&nbsp;string&nbsp;to&nbsp;identify&nbsp;the&nbsp;line</span></span></tt><BR>
<tt>&nbsp;&nbsp;&nbsp;&nbsp;formatter&nbsp;[in,opt]&nbsp;-&nbsp;a&nbsp;string&nbsp;using&nbsp;__FILE__&nbsp;and/or&nbsp;__LINE__&nbsp;to&nbsp;be&nbsp;substituted&nbsp;and&nbsp;echoed</span></span></tt><BR>
<tt>&nbsp;&nbsp;&nbsp;&nbsp;offset&nbsp;&nbsp;&nbsp;&nbsp;[in,opt]&nbsp;-&nbsp;offset&nbsp;to&nbsp;be&nbsp;added&nbsp;to&nbsp;the&nbsp;line&nbsp;number</span></span></tt><BR>
<tt>&nbsp;&nbsp;&nbsp;</span></span></tt><BR>
<h3>DESCRIPTION</span></span></h3>
<tt>&nbsp;&nbsp;&nbsp;&nbsp;This&nbsp;function&nbsp;outputs&nbsp;a&nbsp;formatted&nbsp;string&nbsp;with</span></span></tt><BR>
<tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Full&nbsp;file&nbsp;name</span></span></tt><BR>
<tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Line&nbsp;number</span></span></tt><BR>
<tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Error&nbsp;ID</span></span></tt><BR>
<tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Error&nbsp;message</span></span></tt><BR>
<tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extended&nbsp;error&nbsp;message</span></span></tt><BR>
<tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Additional&nbsp;help</span></span></tt><BR>
<tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span></tt><BR>
<tt>&nbsp;&nbsp;&nbsp;&nbsp;Displayed&nbsp;in&nbsp;a&nbsp;syntax&nbsp;like</span></span></tt><BR>
<tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FileName(LineNr)[ErrorID]:&nbsp;Error&nbsp;message&nbsp;&nbsp;Extended&nbsp;error&nbsp;message</span></span></tt><BR>
<tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span></tt><BR>
<tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Additional&nbsp;help</span></span></tt><BR>
<h3></span></span></h3>
<h3>EXTENDED ERROR MESSAGE</span></span></h3>
<tt>&nbsp;&nbsp;&nbsp;&nbsp;Is&nbsp;stored&nbsp;in&nbsp;environment&nbsp;variables&nbsp;like</span></span></tt><BR>
<h3></span></span></h3>
<tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SET&nbsp;@Error.001=First&nbsp;error</span></span></tt><BR>
<tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SET&nbsp;@Error.002=Second&nbsp;error</span></span></tt><BR>
<tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SET&nbsp;@Error.003=Third&nbsp;error</span></span></tt><BR>
<h3></span></span></h3>
<tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Variables&nbsp;are&nbsp;set&nbsp;on&nbsp;initiating&nbsp;the&nbsp;main&nbsp;script</span></span></tt><BR>
<h3></span></span></h3>
<h3>ADDITIONAL HELP</span></span></h3>
<tt>&nbsp;&nbsp;&nbsp;&nbsp;Attempting&nbsp;to&nbsp;mimic&nbsp;the&nbsp;oerr&nbsp;help&nbsp;message&nbsp;utility&nbsp;extracting&nbsp;help&nbsp;from&nbsp;a&nbsp;table</span></span></tt><BR>
<tt>&nbsp;&nbsp;&nbsp;&nbsp;at&nbsp;the&nbsp;end&nbsp;of&nbsp;the&nbsp;script.&nbsp;All&nbsp;lines&nbsp;matching&nbsp;the&nbsp;prefix&nbsp;"::#ERRORID"&nbsp;will&nbsp;be&nbsp;displayed.</span></span></tt><BR>
<tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span></tt><BR>
<tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;::**********************************************************************</span></span></tt><BR>
<tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;::*&nbsp;Error&nbsp;messages&nbsp;(like&nbsp;Oracle&nbsp;oerr)</span></span></tt><BR>
<tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;::**********************************************************************</span></span></tt><BR>
<tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;::#Error.000&nbsp;Error.000&nbsp;--&nbsp;Template</span></span></tt><BR>
<tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;::#Error.000&nbsp;//&nbsp;*Cause:&nbsp;</span></span></tt><BR>
<tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;::#Error.000&nbsp;//&nbsp;*Action:&nbsp;</span></span></tt><BR>
<tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;::----------------------------------------------------------------.......</span></span></tt><BR>
<tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;::#Error.001&nbsp;Error.001&nbsp;-&nbsp;first&nbsp;error&nbsp;-&nbsp;Non&nbsp;fatal</span></span></tt><BR>
<tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;::#Error.001&nbsp;//&nbsp;*Cause:&nbsp;Some&nbsp;error&nbsp;has&nbsp;occured&nbsp;(Continuing)</span></span></tt><BR>
<tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;::#Error.001&nbsp;//&nbsp;*Action:&nbsp;What&nbsp;to&nbsp;do&nbsp;to&nbsp;prevent&nbsp;this&nbsp;error&nbsp;</span></span></tt><BR>
<tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;::#Error.001&nbsp;//&nbsp;OR&nbsp;what&nbsp;action&nbsp;to&nbsp;take&nbsp;to&nbsp;clean&nbsp;up&nbsp;the&nbsp;mess</span></span></tt><BR>
<tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;::</span></span></tt><BR>
<tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;::#Error.002&nbsp;Error.002&nbsp;-&nbsp;Second&nbsp;error&nbsp;-&nbsp;Non&nbsp;fatal&nbsp;w&nbsp;emailFatal</span></span></tt><BR>
<tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;::#Error.002&nbsp;//&nbsp;*Cause:&nbsp;Non&nbsp;fatal&nbsp;error&nbsp;-&nbsp;but&nbsp;sending&nbsp;email&nbsp;to&nbsp;Sysadm&nbsp;(Continuing)</span></span></tt><BR>
<tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;::#Error.002&nbsp;//&nbsp;*Action:&nbsp;What&nbsp;to&nbsp;do&nbsp;to&nbsp;prevent&nbsp;this&nbsp;error&nbsp;OR&nbsp;what&nbsp;action&nbsp;to&nbsp;take&nbsp;to&nbsp;</span></span></tt><BR>
<tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;::#Error.002&nbsp;//&nbsp;clean&nbsp;up&nbsp;the&nbsp;mess&nbsp;when&nbsp;script&nbsp;has&nbsp;aborted</span></span></tt><BR>
<tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;::</span></span></tt><BR>
<tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;::#Error.003&nbsp;Error.003&nbsp;-&nbsp;Second&nbsp;error&nbsp;-&nbsp;Fatal</span></span></tt><BR>
<tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;::#Error.003&nbsp;//&nbsp;*Cause:&nbsp;Forced&nbsp;fatal&nbsp;error&nbsp;(Aborting)</span></span></tt><BR>
<tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;::#Error.003&nbsp;//&nbsp;*Action:&nbsp;What&nbsp;to&nbsp;do&nbsp;to&nbsp;prevent&nbsp;this&nbsp;error&nbsp;OR&nbsp;what&nbsp;action&nbsp;to&nbsp;take&nbsp;to&nbsp;</span></span></tt><BR>
<tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;::#Error.003&nbsp;//&nbsp;clean&nbsp;up&nbsp;the&nbsp;mess&nbsp;when&nbsp;script&nbsp;has&nbsp;aborted.</span></span></tt><BR>
<tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;::#Error.003&nbsp;//&nbsp;Email&nbsp;send&nbsp;to&nbsp;Sysadm</span></span></tt><BR>
<tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;::</span></span></tt><BR>
<tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;::**********************************************************************</span></span></tt><BR>
<tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span></tt><BR>
<tt>&nbsp;&nbsp;&nbsp;&nbsp;Additional&nbsp;help&nbsp;should&nbsp;be&nbsp;placed&nbsp;at&nbsp;the&nbsp;end&nbsp;of&nbsp;the&nbsp;main&nbsp;script</span></span></tt><BR>
<tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span></tt><BR>
<h3>GLOBAL VARIABLES</span></span></h3>
<tt>&nbsp;&nbsp;&nbsp;&nbsp;$ErrorMsg&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Short&nbsp;errormessage</span></span></tt><BR>
<tt>&nbsp;&nbsp;&nbsp;&nbsp;$ErrorDesc&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Descriptive&nbsp;errormessage&nbsp;incl.&nbsp;addtional&nbsp;help</span></span></tt><BR>
<h3></span></span></h3>
<tt>&nbsp;&nbsp;&nbsp;&nbsp;{CrLf}&nbsp;masks&nbsp;CrLf&nbsp;in&nbsp;$ErrorDesc.</span></span></tt><BR>
<h3></span></span></h3>
<h3></span></span></h3>
<h3>EXAMPLES</span></span></h3>
<tt>&nbsp;&nbsp;&nbsp;&nbsp;SET&nbsp;_Error_=CALL&nbsp;"%%~dp0\_ErrorHandler"&nbsp;"%C:\_\_errorhandler.cmd%"</span></span></tt><BR>
<tt>&nbsp;&nbsp;&nbsp;&nbsp;%%_Error_%%&nbsp;"ERROR.001"&nbsp;"Testing&nbsp;error&nbsp;1"&nbsp;-1&nbsp;Continue</span></span></tt><BR>
<tt>&nbsp;&nbsp;&nbsp;&nbsp;</span></span></tt><BR>
<tt>&nbsp;&nbsp;&nbsp;&nbsp;Will&nbsp;display:</span></span></tt><BR>
<tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;C:\Users\xxx\test.bat(23)[ERROR.001]:&nbsp;Testing&nbsp;error&nbsp;1&nbsp;First&nbsp;error</span></span></tt><BR>
<tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span></tt><BR>
<tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Error.001&nbsp;-&nbsp;first&nbsp;error&nbsp;-&nbsp;Non&nbsp;fatal</span></span></tt><BR>
<tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;*Cause:&nbsp;Some&nbsp;error&nbsp;has&nbsp;occured&nbsp;(Continuing)</span></span></tt><BR>
<tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;*Action:&nbsp;What&nbsp;to&nbsp;do&nbsp;to&nbsp;prevent&nbsp;this&nbsp;error</span></span></tt><BR>
<tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;OR&nbsp;what&nbsp;action&nbsp;to&nbsp;take&nbsp;to&nbsp;clean&nbsp;up&nbsp;the&nbsp;mess</span></span></tt><BR>
<tt>&nbsp;&nbsp;&nbsp;&nbsp;</span></span></tt><BR>
<h3>REQUIRES</span></span></h3>
<tt>&nbsp;&nbsp;&nbsp;&nbsp;_Debug.cmd&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Setting&nbsp;up&nbsp;debug&nbsp;environment&nbsp;for&nbsp;batch&nbsp;scripts&nbsp;</span></span></tt><BR>
<tt>&nbsp;&nbsp;&nbsp;&nbsp;_GetOpt.cmd&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Parse&nbsp;command&nbsp;line&nbsp;options&nbsp;and&nbsp;create&nbsp;environment&nbsp;vars</span></span></tt><BR>
<h3></span></span></h3>
<tt>&nbsp;&nbsp;&nbsp;&nbsp;oerr</span></span></tt><BR>
<h3>REFERENCE</span></span></h3>
<tt>&nbsp;&nbsp;&nbsp;&nbsp;http://clicketyclick.dk/development/dos/</span></span></tt><BR>
<tt>&nbsp;&nbsp;&nbsp;&nbsp;:$reference&nbsp;http://www.dostips.com/forum/viewtopic.php?t=369</span></span></tt><BR>
<tt>&nbsp;&nbsp;&nbsp;&nbsp;:$created&nbsp;20080512&nbsp;:$changed&nbsp;20080512</span></span></tt><BR>
<tt>&nbsp;&nbsp;&nbsp;&nbsp;:$source&nbsp;http://www.dostips.com</span></span></tt><BR>
<h3></span></span></h3>
<h3>SOURCE</span></span></h3>
<tt>&nbsp;&nbsp;&nbsp;&nbsp;C:\_\_errorhandler.cmd</span></span></tt><BR>
<h3></span></span></h3>
<h5>(c)2015 Erik Bachmann, ClicketyClick.dk [ErikBachmann@ClicketyClick.dk]</span></span></h5>

